<?xml version="1.0" encoding="UTF-8"?>
<features name="message-stream-${project.version}">

	<feature name="ms-core" version="${project.version}">
		<feature>spring</feature>
		<feature>spring-dm</feature>

    	<!--
		<feature version="${servicemix.version}">camel-nmr</feature>
    	-->
		<feature version="${camel.version}">camel-spring</feature>
		<feature version="${camel.version}">camel-jaxb</feature>
		<feature version="${camel.version}">camel-amqp</feature>

		<bundle>mvn:${project.groupId}/core/${project.version}</bundle>
		<bundle>mvn:org.springframework.osgi/spring-osgi-web/1.2.1</bundle>
		<bundle>mvn:org.springframework/spring-core/${spring.version}</bundle>
		<bundle>mvn:org.springframework/spring-context/${spring.version}</bundle>
    	<!--
    	<feature>war</feature>
    	<bundle>mvn:org.springframework/spring-web/${spring.version}</bundle>
    	<bundle>mvn:org.springframework/spring-webmvc/${spring.version}</bundle>
    	-->
	</feature>

	<feature name="ms-example-publisher" version="${project.version}">
		<feature>ms-core</feature>

		<bundle>mvn:${project.groupId}/publisher/${project.version}</bundle>
	</feature>

	<feature name="ms-example-subscriber" version="${project.version}">
		<feature>ms-core</feature>

		<bundle>mvn:${project.groupId}/subscriber/${project.version}</bundle>
	</feature>

  <feature name="ms-example-webapp" version="${project.version}">
    <feature>spring</feature>
    <feature>spring-dm</feature>
    <feature>war</feature>
    
    <bundle>mvn:${project.groupId}/webapp/${project.version}/war</bundle>
    
    <bundle>mvn:org.springframework.osgi/spring-osgi-web/${spring.osgi.version}</bundle>
    <bundle>mvn:org.springframework/spring-web/${spring.version}</bundle>
    <bundle>mvn:org.springframework/spring-webmvc/${spring.version}</bundle>
    <!-- 
    <bundle>mvn:javax.servlet/com.springsource.javax.servlet.jsp.jstl/1.2.0.v20110728</bundle>
    -->
  </feature>
</features>
